replicas: 1

image:
  repository: grafana/grafana
  tag: latest
  pullPolicy: Always

downloadDashboardsImage:
  repository: appropriate/curl
  tag: latest
  pullPolicy: IfNotPresent
## Expose the grafana service to be accessed from outside the cluster (LoadBalancer service).
## or access it from within the cluster (ClusterIP service). Set the service type and the port to serve it.
## ref: http://kubernetes.io/docs/user-guide/services/
##
service:
  type: ClusterIP
  port: 80
  annotations: {}

ingress:
  enabled: false
  annotations:
    kubernetes.io/ingress.class: kong
    kubernetes.io/tls-acme: "true"
  path: /
  hosts:
    - chart-example.local
  tls:
    - secretName: grafana-tls
      hosts:
        - chart-example.local

resources:
 limits:
   cpu: 100m
   memory: 128Mi
 requests:
   cpu: 100m
   memory: 128Mi

## Node labels for pod assignment
## ref: https://kubernetes.io/docs/user-guide/node-selection/
#
nodeSelector: {}

## Tolerations for pod assignment
## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
##
tolerations: []

## Affinity for pod assignment
## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
##
affinity: {}

## Enable persistence using Persistent Volume Claims
## ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
##
persistence:
  enabled: true
  storageClassName: standard
  accessModes:
   - ReadWriteOnce
  size: 1Gi
  # annotations: {}
  # subPath: ""
  # existingClaim:

adminUser: admin
# adminPassword: strongpassword


## Extra environment variables that will be pass onto deployment pods
env: {}

# Pass the plugins you want installed as a comma separated list.
# plugins: "digrich-bubblechart-panel,grafana-clock-panel"
plugins: ""

## Configure grafana datasources
## ref: http://docs.grafana.org/administration/provisioning/#datasources
##
datasources:
 datasources.yaml:
   apiVersion: 1
   datasources:
   - name: Prometheus
     type: prometheus
     url: http://metricdb-prometheus-server.infra
     access: proxy
     isDefault: true
   - name: ES Logs
     type: elasticsearch
     url: http://elasticsearch.infra:9200
     database: "[logstash-]YYYY.MM.DD"
     access: proxy
     isDefault: false
     jsonData:
       esVersion: 5,
       interval: Daily
       timeField: "@fb_timestamp"

## Configure grafana dashboard providers
## ref: http://docs.grafana.org/administration/provisioning/#dashboards
##
dashboardProviders:
 dashboardproviders.yaml:
   apiVersion: 1
   providers:
   - name: 'default'
     orgId: 1
     folder: ''
     type: file
     disableDeletion: false
     editable: true
     options:
       path: /var/lib/grafana/dashboards

## Configure grafana dashboard to import
## NOTE: To use dashboards you must also enable/configure dashboardProviders
## ref: https://grafana.com/dashboards
##
dashboards:
  ingress:
    json: |
      {
            "annotations": {
              "list": [
                {
                  "builtIn": 1,
                  "datasource": "-- Grafana --",
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
                }
              ]
            },
            "editable": false,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [],
            "refresh": "30s",
            "rows": [
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "ES Logs",
                    "fill": 1,
                    "id": 1,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 11,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "fake": true,
                            "field": "api.name.keyword",
                            "id": "3",
                            "settings": {
                              "min_doc_count": 1,
                              "order": "desc",
                              "orderBy": "_term",
                              "size": "10"
                            },
                            "type": "terms"
                          },
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "metrics": [
                          {
                            "field": "select field",
                            "id": "1",
                            "type": "count"
                          }
                        ],
                        "query": "+response.status: [200 TO 299] +api.name.keyword: $api_name",
                        "refId": "A",
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "2xx Responses",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": true,
                    "colors": [
                      "rgba(245, 54, 54, 0.9)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(50, 172, 45, 0.97)"
                    ],
                    "datasource": "ES Logs",
                    "format": "none",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "id": 10,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 1,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "expr": "+response.status: [500 TO 599] +api.name.keyword: $api_name",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "metrics": [
                          {
                            "field": "select field",
                            "id": "1",
                            "meta": {},
                            "settings": {},
                            "type": "count"
                          }
                        ],
                        "query": "+response.status: [200 TO 299] +api.name.keyword: $api_name",
                        "refId": "A",
                        "step": 60,
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": "1,30",
                    "title": "Count",
                    "type": "singlestat",
                    "valueFontSize": "80%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "total"
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "ES Logs",
                    "fill": 1,
                    "id": 2,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "fake": true,
                            "field": "api.name.keyword",
                            "id": "3",
                            "settings": {
                              "min_doc_count": 1,
                              "order": "desc",
                              "orderBy": "_term",
                              "size": "10"
                            },
                            "type": "terms"
                          },
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "metrics": [
                          {
                            "field": "select field",
                            "id": "1",
                            "type": "count"
                          }
                        ],
                        "query": "+response.status: [300 TO 399] +api.name.keyword: $api_name",
                        "refId": "A",
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "3xx Responses",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {
                      "grafana": "#EAB839"
                    },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "ES Logs",
                    "fill": 1,
                    "id": 3,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "fake": true,
                            "field": "api.name.keyword",
                            "id": "3",
                            "settings": {
                              "min_doc_count": 1,
                              "order": "desc",
                              "orderBy": "_term",
                              "size": "10"
                            },
                            "type": "terms"
                          },
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "metrics": [
                          {
                            "field": "select field",
                            "id": "1",
                            "type": "count"
                          }
                        ],
                        "query": "+response.status:[400 TO 499] +api.name.keyword: $api_name",
                        "refId": "A",
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "4xx Responses",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {
                      "Count": "#E24D42"
                    },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "ES Logs",
                    "fill": 1,
                    "id": 4,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 11,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "fake": true,
                            "field": "api.name.keyword",
                            "id": "3",
                            "settings": {
                              "min_doc_count": 1,
                              "order": "desc",
                              "orderBy": "_term",
                              "size": "10"
                            },
                            "type": "terms"
                          },
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "metrics": [
                          {
                            "field": "select field",
                            "id": "1",
                            "type": "count"
                          }
                        ],
                        "query": "+response.status: [500 TO 599] +api.name.keyword: $api_name",
                        "refId": "A",
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "5xx Responses",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": true,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "ES Logs",
                    "format": "none",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "id": 9,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 1,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "expr": "+response.status: [500 TO 599] +api.name.keyword: $api_name",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "metrics": [
                          {
                            "field": "select field",
                            "id": "1",
                            "meta": {},
                            "settings": {},
                            "type": "count"
                          }
                        ],
                        "query": "+response.status: [500 TO 599] +api.name.keyword: $api_name",
                        "refId": "A",
                        "step": 60,
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": "1,3",
                    "title": "Count",
                    "type": "singlestat",
                    "valueFontSize": "80%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "total"
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "ES Logs",
                    "fill": 1,
                    "id": 8,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "fake": true,
                            "field": "api.name.keyword",
                            "id": "3",
                            "settings": {
                              "min_doc_count": 1,
                              "order": "desc",
                              "orderBy": "_term",
                              "size": "10"
                            },
                            "type": "terms"
                          },
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "metrics": [
                          {
                            "field": "latencies.request",
                            "id": "1",
                            "meta": {},
                            "settings": {
                              "percents": [
                                "50"
                              ]
                            },
                            "type": "percentiles"
                          }
                        ],
                        "query": "+api.name.keyword:$api_name",
                        "refId": "A",
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "p50 Latency",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "ms",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "ES Logs",
                    "fill": 1,
                    "id": 6,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "fake": true,
                            "field": "api.name.keyword",
                            "id": "3",
                            "settings": {
                              "min_doc_count": 1,
                              "order": "desc",
                              "orderBy": "_term",
                              "size": "10"
                            },
                            "type": "terms"
                          },
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "metrics": [
                          {
                            "field": "latencies.request",
                            "id": "1",
                            "meta": {},
                            "settings": {
                              "percents": [
                                "90"
                              ]
                            },
                            "type": "percentiles"
                          }
                        ],
                        "query": "+api.name.keyword:$api_name",
                        "refId": "A",
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "p90 Latency",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "ms",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "ES Logs",
                    "fill": 1,
                    "id": 7,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "bucketAggs": [
                          {
                            "fake": true,
                            "field": "api.name.keyword",
                            "id": "3",
                            "settings": {
                              "min_doc_count": 1,
                              "order": "desc",
                              "orderBy": "_term",
                              "size": "10"
                            },
                            "type": "terms"
                          },
                          {
                            "field": "@timestamp",
                            "id": "2",
                            "settings": {
                              "interval": "auto",
                              "min_doc_count": 0,
                              "trimEdges": 0
                            },
                            "type": "date_histogram"
                          }
                        ],
                        "dsType": "elasticsearch",
                        "metrics": [
                          {
                            "field": "latencies.request",
                            "id": "1",
                            "meta": {},
                            "settings": {
                              "percents": [
                                "99"
                              ]
                            },
                            "type": "percentiles"
                          }
                        ],
                        "query": "+api.name.keyword:$api_name",
                        "refId": "A",
                        "timeField": "@fb_timestamp"
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "p99 Latency",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "ms",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [],
            "templating": {
              "list": [
                {
                  "allValue": "*",
                  "current": {
                    "text": "dkyc-wesbank",
                    "value": "dkyc-wesbank"
                  },
                  "datasource": "ES Logs",
                  "hide": 0,
                  "includeAll": true,
                  "label": "Service",
                  "multi": false,
                  "name": "api_name",
                  "options": [],
                  "query": "{\"find\": \"terms\", \"field\": \"api.name.keyword\", \"query\": \"_exists_:api.name\"}",
                  "refresh": 1,
                  "regex": "",
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                }
              ]
            },
            "time": {
              "from": "now-7d",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "",
            "title": "Ingress Dashboard",
            "version": 6
          }

  kubernetes-cluster-alarms:
    json: |
      {
            "annotations": {
              "list": [
                {
                  "builtIn": 1,
                  "datasource": "-- Grafana --",
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
                }
              ]
            },
            "description": "Monitors Kubernetes cluster using Prometheus. Shows overall cluster CPU / Memory / Filesystem usage as well as individual pod, containers, systemd services statistics. Uses cAdvisor metrics only.",
            "editable": false,
            "gnetId": 315,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [],
            "refresh": false,
            "rows": [
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              50
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "max"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Master Node Memory Usage alert",
                      "noDataState": "no_data",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 42,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "container_memory_working_set_bytes{id=\"/\",kubernetes_io_role=\"master\"} / scalar(min(machine_memory_bytes{kubernetes_io_role=\"master\"})) * 100",
                        "format": "time_series",
                        "hide": false,
                        "intervalFactor": 2,
                        "legendFormat": "{{instance}}",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 50
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Master Node Memory Usage",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "percent",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              70
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "avg"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Node CPU Usage alert",
                      "noDataState": "keep_state",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 41,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "(sum(rate (container_cpu_usage_seconds_total{id=\"/\", kubernetes_io_role=\"master\"}[5m])) by (instance)) / scalar(sum (machine_cpu_cores{kubernetes_io_role=\"master\"})) * 100",
                        "format": "time_series",
                        "hide": false,
                        "intervalFactor": 2,
                        "legendFormat": "{{instance}}",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 70
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Master Node CPU Usage",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Cluster Memory Usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              70
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "max"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Worker Node Memory Usage alert",
                      "noDataState": "no_data",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 43,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "container_memory_working_set_bytes{id=\"/\",kubernetes_io_role=\"node\"} / scalar(min(machine_memory_bytes{kubernetes_io_role=\"node\"})) * 100",
                        "format": "time_series",
                        "hide": false,
                        "intervalFactor": 2,
                        "legendFormat": "{{instance}}",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 70
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Worker Node Memory Usage",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "percent",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              40
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "max"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Worker Node CPU Usage alert",
                      "noDataState": "no_data",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 44,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "(sum(rate (container_cpu_usage_seconds_total{id=\"/\", kubernetes_io_role=\"node\"}[5m])) by (instance)) / scalar(sum (machine_cpu_cores{kubernetes_io_role=\"node\"})) * 100",
                        "format": "time_series",
                        "hide": false,
                        "intervalFactor": 2,
                        "legendFormat": "{{instance}}",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 40
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Worker Node CPU Usage",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 163,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              20000000
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "avg"
                          },
                          "type": "query"
                        },
                        {
                          "evaluator": {
                            "params": [
                              -20000000
                            ],
                            "type": "lt"
                          },
                          "operator": {
                            "type": "or"
                          },
                          "query": {
                            "params": [
                              "B",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "avg"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Cluster Network I/O Pressure Alert",
                      "noDataState": "no_data",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "height": "200px",
                    "id": 32,
                    "legend": {
                      "alignAsTable": false,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": false,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{namespace != \"kube-system\"}[5m]))",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "Received",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{namespace != \"kube-system\"}[5m]))",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "Sent",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 20000000
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Cluster Network I/O pressure",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "cumulative"
                    },
                    "transparent": false,
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              50
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "avg"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Cluster File System Usage Alert",
                      "noDataState": "keep_state",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 35,
                    "legend": {
                      "alignAsTable": false,
                      "avg": false,
                      "current": false,
                      "hideEmpty": true,
                      "hideZero": true,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (container_fs_usage_bytes{device=~\"^/dev/xvda.?$\",id=\"/\"}) by (instance) / sum (container_fs_limit_bytes{device=~\"^/dev/xvda.?$\",id=\"/\"}) by (instance)",
                        "format": "time_series",
                        "hide": false,
                        "intervalFactor": 2,
                        "legendFormat": "{{instance}}",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 50
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Container-specific file system usage",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "percentunit",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              1
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "avg"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Cluster Nodes Unavailable Alert",
                      "noDataState": "alerting",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 36,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": false,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(kube_node_status_ready{condition!=\"true\"})",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "metric": "kube_node_status_ready",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 1
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Cluster Nodes Unavailable",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              4
                            ],
                            "type": "lt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "avg"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Cluster Cores Available Alert",
                      "noDataState": "no_data",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 37,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": false,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(kube_node_status_allocatable_cpu_cores) - sum(kube_pod_container_resource_requests_cpu_cores)",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "metric": "kube_node_status_allocatable_cpu_cores",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "lt",
                        "value": 4
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Cluster Cores Available",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              1.5
                            ],
                            "type": "lt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "max"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Most Node Cores Available Alert",
                      "noDataState": "alerting",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 38,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "max((sum(kube_node_status_allocatable_cpu_cores) by (node)) - (sum(kube_pod_container_resource_requests_cpu_cores) by (node)))",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "legendFormat": "{{node}}",
                        "metric": "kube_node_status_allocatable_cpu_cores",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "lt",
                        "value": 1.5
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Most Node Cores Available",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              5000000000
                            ],
                            "type": "lt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "avg"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Total Cluster Memory Available Alert",
                      "noDataState": "alerting",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 39,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": false,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(kube_node_status_allocatable_memory_bytes) - sum(kube_pod_container_resource_requests_memory_bytes)",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "metric": "",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "lt",
                        "value": 5000000000
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Total Cluster Memory Available",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "decbytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              5000000000
                            ],
                            "type": "lt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "max"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Max Node Memory Available Alert",
                      "noDataState": "alerting",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 40,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "max((sum(kube_node_status_allocatable_memory_bytes) by (node)) - (sum(kube_pod_container_resource_requests_memory_bytes) by (node)))",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "legendFormat": "{{node}}",
                        "refId": "A",
                        "step": 2
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "lt",
                        "value": 5000000000
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Max Node Memory Available",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "decbytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
              "kubernetes"
            ],
            "templating": {
              "list": []
            },
            "time": {
              "from": "now-7d",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "browser",
            "title": "Kubernetes Cluster Alarms",
            "version": 11
          }
  kubernetes-dashboard:
    json: |
      {
            "annotations": {
              "list": [
                {
                  "builtIn": 1,
                  "datasource": "-- Grafana --",
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
                }
              ]
            },
            "description": "Monitors Kubernetes cluster using Prometheus. Shows overall cluster CPU / Memory / Filesystem usage as well as individual pod, containers, systemd services statistics. Uses cAdvisor metrics only.",
            "editable": true,
            "gnetId": 315,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [],
            "refresh": "5m",
            "rows": [
              {
                "collapse": false,
                "height": "200px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "height": "200px",
                    "id": 32,
                    "legend": {
                      "alignAsTable": false,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": false,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{kubernetes_io_hostname=~\"^$Node$\"}[5m]))",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "Received",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{kubernetes_io_hostname=~\"^$Node$\"}[5m]))",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "Sent",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Network I/O pressure",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "cumulative"
                    },
                    "transparent": false,
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Network I/O pressure",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": true,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "format": "percent",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": true,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "180px",
                    "id": 4,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 4,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) / sum (machine_memory_bytes{kubernetes_io_hostname=~\"^$Node$\"}) * 100",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "metric": "machine",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "65, 90",
                    "title": "Container memory usage",
                    "transparent": false,
                    "type": "singlestat",
                    "valueFontSize": "80%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": true,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "percent",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": true,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "180px",
                    "id": 6,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 4,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[5m])) / sum (machine_cpu_cores{kubernetes_io_hostname=~\"^$Node$\"}) * 100",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "65, 90",
                    "title": "Container CPU usage (5m avg)",
                    "type": "singlestat",
                    "valueFontSize": "80%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": true,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "percent",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": true,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "180px",
                    "id": 7,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 4,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (container_fs_usage_bytes{device=~\"^/dev/xvda.?$\",id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) / sum (container_fs_limit_bytes{device=~\"^/dev/xvda.?$\",id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) * 100",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "",
                        "metric": "",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "65, 90",
                    "title": "Container filesystem usage",
                    "type": "singlestat",
                    "valueFontSize": "80%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "bytes",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 9,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "20%",
                    "prefix": "",
                    "prefixFontSize": "20%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"})",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Used",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "bytes",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 10,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (machine_memory_bytes{kubernetes_io_hostname=~\"^$Node$\"})",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Total",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "none",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 11,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": " cores",
                    "postfixFontSize": "30%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[5m]))",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Used",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "none",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 12,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": " cores",
                    "postfixFontSize": "30%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (machine_cpu_cores{kubernetes_io_hostname=~\"^$Node$\"})",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Total",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "bytes",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 13,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (container_fs_usage_bytes{device=~\"^/dev/xvda.?$\",id=\"/\",kubernetes_io_hostname=~\"^$Node$\"})",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Used",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "bytes",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 14,
                    "interval": null,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "tableColumn": "",
                    "targets": [
                      {
                        "expr": "sum (container_fs_limit_bytes{device=~\"^/dev/xvda.?$\",id=\"/\", kubernetes_io_hostname=~\"^$Node$\"})",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Total",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Total usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 3,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {},
                    "height": "",
                    "id": 17,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (pod_name)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ pod_name }}",
                        "metric": "container_cpu",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Pods CPU usage (5m avg)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "transparent": false,
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Pods CPU usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 3,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {},
                    "height": "",
                    "id": 23,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "rate (container_cpu_usage_seconds_total{namespace=\"kube-system\", kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ pod_name }}",
                        "metric": "container_cpu",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "System pods CPU usage (5m avg)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "System services CPU usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 3,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {},
                    "height": "",
                    "id": 24,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "hideEmpty": false,
                      "hideZero": false,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": null,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (container_name, pod_name)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "pod: {{ pod_name }} | {{ container_name }}",
                        "metric": "container_cpu",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (kubernetes_io_hostname, name, image)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                        "metric": "container_cpu",
                        "refId": "B",
                        "step": 10
                      },
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (kubernetes_io_hostname, rkt_container_name)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                        "metric": "container_cpu",
                        "refId": "C",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Containers CPU usage (5m avg)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Containers CPU usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "500px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 3,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {},
                    "id": 20,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": true,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (id)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ id }}",
                        "metric": "container_cpu",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "All processes CPU usage (5m avg)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "All processes CPU usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {},
                    "id": 25,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}) by (pod_name)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ pod_name }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Pods memory usage",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Pods memory usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {},
                    "id": 26,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "container_memory_working_set_bytes{namespace=\"kube-system\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ pod_name }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "System pods memory usage",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "System services memory usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {},
                    "id": 27,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}) by (container_name, pod_name)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "pod: {{ pod_name }} | {{ container_name }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "sum (container_memory_working_set_bytes{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}) by (kubernetes_io_hostname, name, image)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "B",
                        "step": 10
                      },
                      {
                        "expr": "sum (container_memory_working_set_bytes{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}) by (kubernetes_io_hostname, rkt_container_name)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "C",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Containers memory usage",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Containers memory usage",
                "titleSize": "h6"
              },
              {
                "collapse": true,
                "height": "500px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {},
                    "id": 28,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) by (id)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ id }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "All processes memory usage",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "All processes memory usage",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "id": 16,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (pod_name)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> {{ pod_name }}",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (pod_name)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- {{ pod_name }}",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Pods network I/O (5m avg)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Pods network I/O",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "id": 30,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (container_name, pod_name)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> pod: {{ pod_name }} | {{ container_name }}",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (container_name, pod_name)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- pod: {{ pod_name }} | {{ container_name }}",
                        "metric": "network",
                        "refId": "D",
                        "step": 10
                      },
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (kubernetes_io_hostname, name, image)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (kubernetes_io_hostname, name, image)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                        "metric": "network",
                        "refId": "C",
                        "step": 10
                      },
                      {
                        "expr": "sum (rate (container_network_transmit_bytes_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (kubernetes_io_hostname, rkt_container_name)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                        "metric": "network",
                        "refId": "E",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (kubernetes_io_hostname, rkt_container_name)",
                        "format": "time_series",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                        "metric": "network",
                        "refId": "F",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Containers network I/O (5m avg)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Containers network I/O",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": "500px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "id": 29,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (id)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> {{ id }}",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\",pod_name=~\"^$Pod.*\"}[5m])) by (id)",
                        "format": "time_series",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- {{ id }}",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "All processes network I/O (5m avg)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "All processes network I/O",
                "titleSize": "h6"
              }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
              "kubernetes"
            ],
            "templating": {
              "list": [
                {
                  "allValue": ".*",
                  "current": {
                    "text": "All",
                    "value": "$__all"
                  },
                  "datasource": "Prometheus",
                  "hide": 0,
                  "includeAll": true,
                  "label": null,
                  "multi": false,
                  "name": "Node",
                  "options": [],
                  "query": "label_values(kubernetes_io_hostname)",
                  "refresh": 1,
                  "regex": "",
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "allValue": ".*",
                  "current": {
                    "text": "All",
                    "value": "$__all"
                  },
                  "datasource": "Prometheus",
                  "hide": 0,
                  "includeAll": true,
                  "label": null,
                  "multi": false,
                  "name": "Pod",
                  "options": [],
                  "query": "label_values(pod_name)",
                  "refresh": 1,
                  "regex": "/^(([a-z]+)(?=-))/",
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                }
              ]
            },
            "time": {
              "from": "now-5m",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "browser",
            "title": "Kubernetes Cluster",
            "version": 1
          }
  kubernetes-pod-alarms:
    json: |
      {
            "annotations": {
              "list": [
                {
                  "builtIn": 1,
                  "datasource": "-- Grafana --",
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
                }
              ]
            },
            "editable": false,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [],
            "rows": [
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              2
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "max"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Pod Restarts Alert",
                      "noDataState": "alerting",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 1,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "hideEmpty": true,
                      "hideZero": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": false,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "increase(kube_pod_container_status_restarts[5m])",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "legendFormat": "{{container}}",
                        "metric": "kube_pod_container_status_restarts",
                        "refId": "A",
                        "step": 30
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 2
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Pod Restarts [5m]",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "alert": {
                      "conditions": [
                        {
                          "evaluator": {
                            "params": [
                              0.9
                            ],
                            "type": "gt"
                          },
                          "operator": {
                            "type": "and"
                          },
                          "query": {
                            "params": [
                              "A",
                              "5m",
                              "now"
                            ]
                          },
                          "reducer": {
                            "params": [],
                            "type": "avg"
                          },
                          "type": "query"
                        }
                      ],
                      "executionErrorState": "alerting",
                      "frequency": "60s",
                      "handler": 1,
                      "name": "Pods Not Running Alert",
                      "noDataState": "ok",
                      "notifications": []
                    },
                    "aliasColors": {},
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 2,
                    "legend": {
                      "avg": false,
                      "current": false,
                      "hideEmpty": true,
                      "hideZero": true,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "kube_pod_status_phase{phase != \"Running\"}",
                        "format": "time_series",
                        "intervalFactor": 2,
                        "legendFormat": "{{pod}}",
                        "metric": "kube_pod_container_status_waiting",
                        "refId": "A",
                        "step": 30
                      }
                    ],
                    "thresholds": [
                      {
                        "colorMode": "critical",
                        "fill": true,
                        "line": true,
                        "op": "gt",
                        "value": 0.9
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Pods Not Running [5m]",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Dashboard Row",
                "titleSize": "h6"
              }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
              "kubernetes",
              "alarms"
            ],
            "templating": {
              "list": []
            },
            "time": {
              "from": "now-7d",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "",
            "title": "Kubernetes Pod Alarms",
            "version": 8
          }
  prometheus-stats:
    gnetId: 2
    revision: 2
    datasource: Prometheus

## Grafana's primary configuration
## NOTE: values in map will be converted to ini format
## ref: http://docs.grafana.org/installation/configuration/
##
grafana.ini:
  paths:
    data: /var/lib/grafana/data
    logs: /var/log/grafana
    plugins: /var/lib/grafana/plugins
  analytics:
    check_for_updates: true
  log:
    mode: console
  grafana_net:
    url: https://grafana.net
