apiVersion: admissionregistration.k8s.io/v1beta1
kind: MutatingWebhookConfiguration
metadata:
  name: saml-proxy-injector
  labels:
    app: saml-proxy-injector
webhooks:
  - name: saml-proxy-injector.sprinthive.com
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUhIVENDQlFXZ0F3SUJBZ0lDQS8wd0RRWUpLb1pJaHZjTkFRRUxCUUF3Z2FveEN6QUpCZ05WQkFZVEFscEIKTVJVd0V3WURWUVFJREF4WFpYTjBaWEp1SUVOaGNHVXhFekFSQmdOVkJBb01DbE53Y21sdWRFaHBkbVV4SVRBZgpCZ05WQkFzTUdGSmxjMlZoY21Ob0lHRnVaQ0JFWlhabGJHOXdiV1Z1ZERFb01DWUdBMVVFQXd3ZlUzQnlhVzUwClNHbDJaU0JKYm5SbGNtMWxaR2xoZEdVZ1VISnZaQ0JEUVRFaU1DQUdDU3FHU0liM0RRRUpBUllUZEdWamFFQnoKY0hKcGJuUm9hWFpsTG1OdmJUQWVGdzB4T1RBME1qY3hPREl5TURaYUZ3MHlPVEEwTWpReE9ESXlNRFphTUlHbQpNVFF3TWdZRFZRUURFeXR6WVcxc0xYQnliM2g1TFdsdWFtVmpkRzl5TG5OaGJXd3RjSEp2ZUhrdGFXNXFaV04wCmIzSXVjM1pqTVFzd0NRWURWUVFHRXdKYVFURVZNQk1HQTFVRUNCTU1WMlZ6ZEdWeWJpQkRZWEJsTVJJd0VBWUQKVlFRSEV3bERZWEJsSUZSdmQyNHhFekFSQmdOVkJBb1RDbE53Y21sdWRFaHBkbVV4SVRBZkJnTlZCQXNUR0ZKbApjMlZoY21Ob0lHRnVaQ0JFWlhabGJHOXdiV1Z1ZERDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDCkFRb0NnZ0VCQVBjZlN3N25OMVJkWWdlSFdZL0RxRlNkbUhBbnVyMndrazA3K1JoYnJRTWNrVmErZ1FDeGlXZVIKSnBnRElWbkRJVGpCZ3E3QmE0K2pWRldCWWJKSFRSSTNsVVZ6L1N0c3duOURhdStER2JqQ0MyVG55K3V3eno1VQpWaTVxWEJlSjVUQzU4ZTJiUUsyNEZJMEtDYlQ2VDd2U1hKK1NGK3pCRGMwK1pTdWdoSzBIVTd4U0h1ejM5VENECm1wRmJuL2EvMUpsS3RQSEVISUJMWmVqSUF4ZUl5bVRzdUM1V1NPcTVCV21uMGZSdmdOTnpSSjJmSDErMFJ5Y0gKUEljVXZlTHRhZXQ3R1BLRUMzQjNCclpYQWJyRWlwKytOSWZYSXErQ0RwZFVEUzVldW1IR3ZwcWF3aUoyUHdkcAprMnZUeGhkeEpjcy9pUkprT0MxSUNvSTNjd2RQZUkwQ0F3RUFBYU9DQWswd2dnSkpNQWtHQTFVZEV3UUNNQUF3CkVRWUpZSVpJQVliNFFnRUJCQVFEQWdaQU1Bc0dBMVVkRHdRRUF3SUZvREF6QmdsZ2hrZ0JodmhDQVEwRUpoWWsKVDNCbGJsTlRUQ0JIWlc1bGNtRjBaV1FnVTJWeWRtVnlJRU5sY25ScFptbGpZWFJsTUIwR0ExVWREZ1FXQkJUNwplU25kd3NseVYwUTVoZzVSbmtsVFhRNkFhakNCM3dZRFZSMGpCSUhYTUlIVWdCVHFqMk5mWS84Sk1FMGlTajY3CmxCTldNRWo3WHFHQnQ2U0J0RENCc1RFTE1Ba0dBMVVFQmhNQ1drRXhGVEFUQmdOVkJBZ01ERmRsYzNSbGNtNGcKUTJGd1pURVNNQkFHQTFVRUJ3d0pRMkZ3WlNCVWIzZHVNUk13RVFZRFZRUUtEQXBUY0hKcGJuUklhWFpsTVNFdwpId1lEVlFRTERCaFNaWE5sWVhKamFDQkJibVFnUkdWMlpXeHZjRzFsYm5ReEd6QVpCZ05WQkFNTUVsTndjbWx1CmRFaHBkbVVnVW05dmRDQkRRVEVpTUNBR0NTcUdTSWIzRFFFSkFSWVRkR1ZqYUVCemNISnBiblJvYVhabExtTnYKYllJQ0VBQXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0VHQ0NzR0FRVUZDQUlDTUlIR0JnTlZIUkVFZ2I0dwpnYnVDSzNOaGJXd3RjSEp2ZUhrdGFXNXFaV04wYjNJdWMyRnRiQzF3Y205NGVTMXBibXBsWTNSdmNpNXpkbU9DCkozTmhiV3d0Y0hKdmVIa3RhVzVxWldOMGIzSXVjMkZ0YkMxd2NtOTRlUzFwYm1wbFkzUnZjb0lkYzJGdGJDMXcKY205NGVTMXBibXBsWTNSdmNpNXBibVp5WVM1emRtT0NIM05oYld3dGNISnZlSGt0YVc1cVpXTjBiM0l1YTNWaQpaUzF6ZVhOMFpXMkNJM05oYld3dGNISnZlSGt0YVc1cVpXTjBiM0l1YTNWaVpTMXplWE4wWlcwdWMzWmpNQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElDQVFBUGFpWGpwVElqWlAzemFwY3ZIeFQ2eXNGZ3RjVllNd3dMRDM3TVUxZkoKbno5UFg2RE1wdXBiZGdHbWlSZFNObHkrS21ENUM2aWpaTWhKa2hudGNERUZMMmJIdCtoN2Jmbld5cWhFRS94WQp1WWJRSXc2WmlUWlFYMkdRT21GRUU1SmI3Yjc3NG9XbUhiYjlGNmgwOHhzYmVMbkphdml5MTFLZlJNV1pnUnJXCnc0UnJhNHBJa2hWQ0xjWGlCYWdmS2h3aWpKZFZJMzJUdWxwVVQzWStmcThQTU9GRWJ4UklRK0hob2p4RE5HNy8KNU1UQ1hqMmdscHNJWDAwM3pmcGg1aVIzdlBLU1h5Yi9nd0cyV1lsNzlVL1NxUzgwZDRUSWZQN2UyeXdxcXBLeQpyc0Ryc3Nqd2VWVGZEVGFTQXJGUjBseDl5ek92R2creDBFRFY0YlFWWGZjck05QXk0QytMYjVWTWxNMmxLVjVUCnJFdHM4UVpzV2hia0tEU2lNaDl6QWl6TWVTcHF1OUFVZFovV1BEb3lWeXg0dDR4eWU5bzNucVp3ZmJZOG1MV00KWjBkU0ZKazZrS1FLR3VIQldjbm9qc0VGVFdrNGlQai8wZmZjUzU1dHp3dHRqRW96ZmxzMzhQWmRxTUVXT1NrUQp3TEd4elExRlVDdTYwOXFNeHY3RHpqYlhFNlRrVGw2SmpxVm5oNnVKTDU4SEd0VGh0SUZoTGtMOVhBK2dSZVJGCkdoOUc1cnpYTmFkV0RkV1U2RCtFdVV1aEtNdk1yVHFsZTJ5dVBTd0QwK1NScEtvbG5KUFM4MUxlMnZvZ1ltTzkKbnRhS1VXV3Vwek5HRkhjVGl4SXdBSG05Umpoakk1REhlWllYZXhtRThKZ2FvdHJhdEFxZ3BCWUpZSFp0RnowUworUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCklJR1B6Q0NCQ2VnQXdJQkFnSUNFQUF3RFFZSktvWklodmNOQVFFTEJRQXdnYkV4Q3pBSkJnTlZCQVlUQWxwQgpSVXdFd1lEVlFRSURBeFhaWE4wWlhKdUlFTmhjR1V4RWpBUUJnTlZCQWNNQ1VOaGNHVWdWRzkzYmpFVE1CRUcKQTFVRUNnd0tVM0J5YVc1MFNHbDJaVEVoTUI4R0ExVUVDd3dZVW1WelpXRnlZMmdnUVc1a0lFUmxkbVZzYjNCdApaVzUwTVJzd0dRWURWUVFEREJKVGNISnBiblJJYVhabElGSnZiM1FnUTBFeElqQWdCZ2txaGtpRzl3MEJDUUVXCkUzUmxZMmhBYzNCeWFXNTBhR2wyWlM1amIyMHdIaGNOTVRjeE1EQXpNRFV5TmpVMVdoY05NamN4TURBeE1EVXkKTmpVMVdqQ0JxakVMTUFrR0ExVUVCaE1DV2tFeEZUQVRCZ05WQkFnTURGZGxjM1JsY200Z1EyRndaVEVUTUJFRwpBMVVFQ2d3S1UzQnlhVzUwU0dsMlpURWhNQjhHQTFVRUN3d1lVbVZ6WldGeVkyZ2dZVzVrSUVSbGRtVnNiM0J0ClpXNTBNU2d3SmdZRFZRUUREQjlUY0hKcGJuUklhWFpsSUVsdWRHVnliV1ZrYVdGMFpTQlFjbTlrSUVOQk1TSXcKSUFZSktvWklodmNOQVFrQkZoTjBaV05vUUhOd2NtbHVkR2hwZG1VdVkyOXRNSUlDSWpBTkJna3Foa2lHOXcwQgpBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUExemttcXY0eVU0eTFpWUdJZU9uM2dYTlV0VldYNTQ5dUVEKzQ0RXlLClN6cWg3V1VXVDNxZ2ovUW53MWJ4cTJuSTdmYWhXbU5mdmR5dm5vUmZ3YSt0cUtMOG1ncFAxRGJrWXh0dkhiYUkKaWFNL2NxTURHbGVhSTZJZDBBbDFTcEVla2VNb0dvbUFMempDMVN2Q1A2UUhZTHozMFp0TWpjVVdwZjlCcVVLdwp2cndGUzBNUHdiSk1CV1dEaFYxM3FVcVVkWDQvUms1MzFCNkI1M01CWU8xeWJJbkZqc2M2bFhibTNRY3V0VUdHCjIydGdWSDd6QnhxNjVTU0h6VStVeWl3enBTSTVidnV1VjRZN2pRaDZtbHpKREtFRVVJV0NRMnhTWlY1S2krRmQKbVI3MXJXbzZiL2dkakZYeUZOVE1Ubzhpc053NHY4UERlVnRGSDNwaU42NUVkREV3MUMzam9GZXg4M1BTcU9VRQowdmlrMkhPeXVDUnVHMnN0dkJjdXE3MnRDU2x0a1Zvdll0R1JDU3J4SlQzV0VDc3FQa0p4RWlQOHNQNkliSENUCkx0M0Q3bHg5c3hQWGcyZ3JEV1d4bUNtK0xuVFViT1duV25aOTNKSTRvUGF5OG9QM0M3MGtIRlBWMGFDdmZWRmUKWE96YVAvWnNzbE92SnZwTWl6Q3AzV1hQQzZIRHBnSGd3QkVOVE5NQXJibDRzNUlISEQ5amJRWFozY1RnbUxUNgp6OWRqZWJIa0ovZGRrWEhPVUJ0UTJGV3BmQWs5U3RQL0pGaW9OQWg1U240UkpJNzhsTHZjdUdLV082L0tNWm9KCnFSR3EveTVBajRIbUQ2V1UyUHI3eWpZc1NJVXdlZXpTcmgxN0EvZzlhM2NyUUNOVHZxcExra3FwTFdDd2c0ZWgKRElzQ0F3RUFBYU5tTUdRd0hRWURWUjBPQkJZRUZPcVBZMTlqL3drd1RTSktQcnVVRTFZd1NQdGVNQjhHQTFVZApJd1FZTUJhQUZNcW13ZGRTam5VZlJFcUJUaHdCVHU3OHpoaFpNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUF3CkRnWURWUjBQQVFIL0JBUURBZ0dHTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFCRVFWUU4xbHVRMjdrOHVKSVcKWitxakIreU02MU5HempBc29yMFlwWVgrcnhNSGZjOGp6cVIvbW9YUjExdk43eU50WFg5ZXdBd2ZRWHdDTCtlWgozZlZ1d1czbHBFSU83V2hOS3R6Z0NDcTFHV2dRVE44b3pzOGNmWmVrdDA0QWJtZllpWkI0NktvLzdVQzRMcnRECkNaQ3FYZUZKbVlRZ2xTdk5jdFh2NUgyRFQ1SGo2cWViUjd4NldlNEZ0TkVRMkFhdkVJb3MwVnM4VTJ0ajBidGQKTkdBMEQvSTlzcUZBS3NJQ21lSXJOSU9WdE82QzJYck5jZTZhNkFYNE0xbFAvK0xaQTQ3L0xxU2I0b0RXWlhYZAptcXU5VTdSK0dXQjhKZmJ5V29zN0hYbUp2WHdNUXJKTGtvY05yTU1Sem5GVjVtVmxjZFpoS2NUTVBDUm9rUlpQCmFaTlA0dUdIamFSaXpVYnRYbjdGWXVEOUhNY2NsS1FaeGVRSWZrbzkxMG9OV2E2ck5mZ3NkajhIQnFYRDRoejAKQ0ZOVVhoRWpvNDB4bTlWY3VYUjhCTUJ3YWxrV1RObTFlWnR0YzlxdXpObFdHU0p1OFY4YStEckplSEJnNUdRSQpoRFBwRW8zYnQ4MFVYU2d2NHVhUUplSVk4REpJSlQzQUt6YlZQNEdranpFYi9EcmRLTWptc21HREdWRm5VL1dKCktXRUd4UTJic1VmajF3TEJoS2dtNXlzVVNKNitxSlhuZThaRGpwVnRGVG1FTmxRTlNTQzh3TzdobFg3c2V1aXcKYkxONE0wYVp0YllNMGRGWXYxc1dXcUhwd0MySStCYXJJMkh1VkZvUUdlT0d6VkhsZjREQUVqakJhdWthc0hubwprMi9leHk3QUlnWStybGFQQkpOemlhd1gvQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCklJR1NqQ0NCREtnQXdJQkFnSUpBUHdLNjNtL01VaEFNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1JR3hNUXN3Q1FZRApWUVFHRXdKYVFURVZNQk1HQTFVRUNBd01WMlZ6ZEdWeWJpQkRZWEJsTVJJd0VBWURWUVFIREFsRFlYQmxJRlJ2CmQyNHhFekFSQmdOVkJBb01DbE53Y21sdWRFaHBkbVV4SVRBZkJnTlZCQXNNR0ZKbGMyVmhjbU5vSUVGdVpDQkUKWlhabGJHOXdiV1Z1ZERFYk1Ca0dBMVVFQXd3U1UzQnlhVzUwU0dsMlpTQlNiMjkwSUVOQk1TSXdJQVlKS29aSQpodmNOQVFrQkZoTjBaV05vUUhOd2NtbHVkR2hwZG1VdVkyOXRNQjRYRFRFM01UQXdNekExTWpJek1Wb1hEVE0zCkRreU9EQTFNakl6TVZvd2diRXhDekFKQmdOVkJBWVRBbHBCTVJVd0V3WURWUVFJREF4WFpYTjBaWEp1SUVOaApjR1V4RWpBUUJnTlZCQWNNQ1VOaGNHVWdWRzkzYmpFVE1CRUdBMVVFQ2d3S1UzQnlhVzUwU0dsMlpURWhNQjhHCkExVUVDd3dZVW1WelpXRnlZMmdnUVc1a0lFUmxkbVZzYjNCdFpXNTBNUnN3R1FZRFZRUUREQkpUY0hKcGJuUkkKYVhabElGSnZiM1FnUTBFeElqQWdCZ2txaGtpRzl3MEJDUUVXRTNSbFkyaEFjM0J5YVc1MGFHbDJaUzVqYjIwdwpnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDbFRkZXRjWTRiTC9QSmM2RldMRFpICmdNVW5BeVF6M3R1dTNCMVRUdWE2TXNIekJUcUFXL3pVdkZxQTNkU0FXSFRwT05JV2NRZVNEdWdUM0dsZ1NzTmMKNThMbjlGV20xSjVWOUg3UUdnS252RmUyc3JrRzU2bUJJVmMxV2dlRUIzeklweGpwTlVHOS9JZGRrZCtGT0wrTgpGUTAzU1VrQ3VWbDdsSDNSRWZTYlYrOWhPMjdJT0hxZ0twTkNNMmZmVU9aUFdnSkVURkhjU1FFeUZrV25peGJQCmdZYzZ0ZW53bElZbm4rU1lDUkJlWEJ6aXMvRnB4ZnJVQzRtQTZtY0N6RHNMTXUvR0l1SHVzR0djcThhK1k0RzQKRlc5RVhtd3pRWTc5a2grRUZ4ZXZ0S0xjSmxDWFFTbDh5K3BWbkNIbmp6VmR1NE02WlhCWklKcFpadXJTREpkUwpSbzlicEdTL1NqbEsrcEdnV1p0MUlwNytNRS85eEZpWW1IeHVRTXlteGJzcDdMQk1vV0Q2ckdEYmN1NzltZVMvClRLQWY4WHd3dTF3eHVubk1MWitzdXA0KzZiSmFsVzdwK240VmJ5UEUrKzBtQ2pOS0dzYUg3d0cwRFFlRXdteUYKZklldU5yUStjWnJkWWJJRGJiYTdqNTlEQlZXY0NLUk9GVFcxL3pMK2ZBNmcyTDJwdU1rZmRESDM0cGxxK1ZYbApZK0hQTUFtdWZCNVQ5VldlYkdYY3ZBOFdvNUZVRDNYUTE2bE9SY2E0MzBBWnZVSkYwZlFNQTg1c085MVFGUll1Ckg4a1MrS0QyV2dac0wzWThDMGMxcTZRZld5Z29wZ1ViTHhKYWcwRGJmdGt3WTZoT3Bnelk0TVJ4MWhjbjltY1QKYkUwaHp5SHBjSDdGa1FJc1V6RnVod0lEQVFBQm8yTXdZVEFkQmdOVkhRNEVGZ1FVeXFiQjExS09kUjlFU29GTwpIQUZPN3Z6T0dGa3dId1lEVlIwakJCZ3dGb0FVeXFiQjExS09kUjlFU29GT0hBRk83dnpPR0Zrd0R3WURWUjBUCkFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVlZd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFCdFgKYlBiWjh2QlVBakJwaDllektsd2NHaDNUY01WRFZVTW1XMHRHdzZDTVRndkkxd2s2bXg4Uy9XYzVFTmVOby93UQpjNUxoQWxoS0l0bzZDc05XWlpGN1ZJUEJ3aDljc2crSjc0bmdObm5pM2ZpbmswMG0vanhxNEhjWmVqSld2eEROCm9wWHNyakxWRnIxeWprdEQ5WFppNVRZU3c4cUJrSmRNN3hJd3NsZzRuOTZnTjlJUlhyd3Q1cjNhRFVyenVSYjgKamVnY2ZCR2wrbFY5QnZuWUxmTlpmZVhOaSt4RjdrYmZ2N01qcVR3WFF1Z29VeHlPaVkzSzZxUkw2cmFKdEtBWgp1NFVXdHl0SmVmVHJrYlBHVWJ3OTdUZmU1Zzh1Z3Fmd1FQaTBJLzhXaXpmL1pZT1MzMDUwL20vZTQzbS9qWWxzCldVbEJqdmVJNlhFQ1c3WUIrRHhWb01oQnNKR0dHTkdjYnE0WHlIRFFRdVV0ckJ2VTIrVkJGUmpDays4VlhWTXIKcEt4NHN0K0Y5Y21GeU53Rjh4RW11SUM4OGNjUFMrTTFoanNLOEpvOUt6alVkWCt1NFFpUzBsdmxZdTRzNmNhbApkd0F4R0FxUkFyZThBYU9QVk40dUxnQ2FqL0V1UWhzMVN4YlhwcUpadG12eHBiWVdWZU9ja0puQ1JuMEcwczVkCjNhelVZUlc4b2JrdTNOSURSdXNiNUVyM3pwN2xIN3ltMStGc0VGUkZ5ZVVLd0RaWHptekdWMTcrUnloaG1BY1oKUHhiUFJqM09lMklHRWY3YXNoY1pKcWh1YllYUkpOSW1TamI4WlpRWVQ5MmR2K0dYT0hrNDBDUWN2OXhZdTZ3eQpmTUlGSEh6V0J3UW92MFd5OUszM3NaRmJrODNyVzBsWktoWmpVT3NRCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      service:
        name: saml-proxy-injector
        namespace: {{ .Release.Namespace }}
        path: "/mutate"
    rules:
      - operations: [ "CREATE" ]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods"]
    failurePolicy: Fail
    namespaceSelector:
      matchLabels:
        saml-proxy-injector: enabled
